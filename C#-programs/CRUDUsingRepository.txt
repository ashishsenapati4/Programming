CRUD operation
..............
Model
.....
public class Student
{
	public int StudentId{get; set;}
	
	public string StudentName{get; set;}
	
}

IStudentRepository
..................
interface IStudentRepository 
{
	List<Student> GetAllStudents();
	
	Student GetStudentById(int id);
	
	Student AddOrUpdate(Student student);
}

StudentRepository
.................

public class StudentRepository : IStudentRepository
{
	List<Student> students = new List<Student>();
	
	public StudentRepository()
	{
		students.Add(new Student{StudentId=100, StudentName="Sharon"});
		students.Add(new Student{StudentId=101, StudentName="Tiger"});
	}
	
	public List<Student> GetAllStudents()
	{
		return students;
	}
	
	public Student GetStudentById(int id)
	{
		Student stu = students.FirstOrDefault(x => x.StudentId == id);
		return stu;
	}
	
	public Student AddOrUpdate(Student student)
	{
		Student stu = GetStudentById(student.StudentId);
		
		if(stu == null)
		{
			//Add..
			students.Add(student);
			return student;
		}
		else{
			//update..
			stu.StudentName = student.StudentName;
			return stu;
		}
	}
}

Program.cs
..........
builder.Services.AddSingleton<IStudentRepository, StudentRepository>();

StudentController.cs
....................
[ApiController]
[Route("[controller]")]
public class StudentController
{
	private readonly IStudentRepository studentRepo
	
	public StudentController(IStudentRepository _stuRepo)
	{
		this.studentRepo = _stuRepo;
	}
	
	[HttpGet]
	public IActionResult FetchStudents()
	{
		var students = studentRepo.GetAllStudents();
		return Ok(students);
	}
	
	[HttpGet]
	public IActionResult GetStudent(int id)
	{
		var student = studentRepo.GetStudentById(id);
		return Ok(student);
	}
	
	[HttpPost]
	public IActionResult AddOrUpdate(Student student)
	{
		Student std = studentRepo.AddOrUpdate(student);
		return Ok(std);
	}
}


